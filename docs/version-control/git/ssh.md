---
sidebar_position: 3
sidebar_label: SSH
title: Настройка SSH ключей
---

## SSH

### Что такое Git SSH?

**Git SSH** — это способ аутентификации при работе с удаленными репозиториями через протокол **SSH**. В отличие от HTTPS-аутентификации, где используется логин и пароль, SSH использует пару ключей для безопасной передачи данных между клиентом и сервером. Это обеспечивает более высокий уровень безопасности и удобство работы, так как вам не нужно вводить пароли каждый раз при взаимодействии с репозиторием.

### Зачем использовать Git SSH?

1. **Безопасность**: Использование SSH позволяет избежать необходимости передавать учетные данные (логины и пароли) по сети. Вместо этого вы используете ключи, которые сложнее перехватить злоумышленникам.

2. **Удобство**: После настройки SSH-ключей вам больше не придется вводить логин и пароль при каждом взаимодействии с репозиторием (например, при `push`, `pull` или `clone`).

3. **Скорость**: В некоторых случаях работа через SSH может быть быстрее, чем через HTTPS, особенно при частых операциях с большими репозиториями.

4. **Корпоративная политика**: Некоторые компании требуют использования SSH для обеспечения дополнительной защиты доступа к своим системам контроля версий.

---

### Как настроить Git SSH

#### Шаг 1: Генерация пары SSH-ключей

Для начала необходимо создать пару SSH-ключей: публичный ключ (_public key_) и приватный ключ (_private key_). Публичный ключ будет отправлен на сервер, а приватный останется у вас локально.

Откройте терминал и выполните следующую команду:

```bash
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
```

Здесь:

- `-t rsa`: указывает тип ключа (RSA)
- `-b 4096`: задает длину ключа (4096 бит)
- `-C "your_email@example.com"`: добавляет комментарий с вашим email-адресом (необязательно, но полезно для идентификации ключа)

Когда система попросит указать путь для сохранения ключа, просто нажмите Enter, чтобы сохранить его в стандартном месте (`~/.ssh/id_rsa` для Linux/macOS или `%USERPROFILE%\.ssh\id_rsa` для Windows).

Также вас спросят, хотите ли вы установить пароль для вашего приватного ключа. Если хотите повысить безопасность, установите пароль. Если нет, оставьте поле пустым и нажмите Enter.

Теперь у вас есть два файла:

- `id_rsa` — ваш приватный ключ
- `id_rsa.pub` — ваш публичный ключ

---

#### Шаг 2: Добавление публичного ключа на сервер

Чтобы использовать SSH для взаимодействия с Git-сервером, вам нужно добавить свой публичный ключ. Скопируйте содержимое публичного ключа в буфер обмена:

```powershell
Get-Content $env:USERPROFILE\.ssh\id_rsa.pub | clip
```

**Добавление на сервер:**

| Сервис    | Путь                                      |
| --------- | ----------------------------------------- |
| GitHub    | Settings → SSH and GPG keys → New SSH key |
| GitLab    | Preferences → SSH Keys → Add SSH Key      |
| Bitbucket | Personal settings → SSH keys → Add key    |

Вставьте содержимое вашего публичного ключа в поле _Key_

---

#### Шаг 3: Проверка соединения

После добавления публичного ключа убедитесь, что соединение установлено корректно. Выполните команду:

```bash
ssh -T git@gitlab.com
```

Если все настроено правильно, вы увидите сообщение:

```
Welcome to GitLab, @username!
```

Это означает, что ваша аутентификация прошла успешно.

---

#### Шаг 4: Клонирование репозитория через SSH

Теперь вы готовы работать с репозиториями через SSH. Чтобы клонировать существующий репозиторий, используйте команду:

```bash
git clone git@gitlab.com:username/repository.git
```

Замените `username` и `repository` на соответствующие значения.

---

#### Шаг 5: Работа с существующими репозиториями

Если у вас уже есть репозиторий, который был клонирован через HTTPS, вы можете изменить URL на использование SSH:

```bash
# Просмотр текущего URL
git remote -v

# Изменение URL на SSH
git remote set-url origin git@gitlab.com:username/repository.git
```

Теперь все операции (`push`, `pull`, `fetch`) будут происходить через SSH.
